<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConnectionsAI - by Yiming Su</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="popup-overlay" id="popupOverlay"></div>
    
    <button class="info-button" id="infoBtn" title="About ConnectionsAI">i</button>
    
    <div class="container" id="mainContainer">
        <div class="title-container">
            <h1>NYT Connections AI - by Yiming Su</h1>
            <div class="global-stats">
                <span id="globalCounter">---</span> games played worldwide
            </div>
        </div>
        
        <div class="game-info intro-mode" id="gameInfo">
            <div class="game-controls">
                <label for="gameNumber">Game #:</label>
                <input type="number" id="gameNumber" min="0" max="379" value="1">
                <button onclick="loadRandomGame()">Load Random Game</button>
            </div>
            <div class="stats-display">
                <span id="turnsCounter">Turns: 0</span> | 
                <span id="groupsCounter">Groups: 0/4</span>
            </div>
        </div>

        <div class="main-content hidden" id="mainContent">
            <div class="game-area">
                <div class="word-grid" id="wordGrid">
                </div>
                
                <div class="groups-found">
                    <div class="group-indicator" id="group1">1</div>
                    <div class="group-indicator" id="group2">2</div>
                    <div class="group-indicator" id="group3">3</div>
                    <div class="group-indicator" id="group4">4</div>
                </div>

                <div class="game-stats hidden" id="gameStats">
                    <button onclick="submitGuess()" id="submitBtn" disabled style="padding: 10px 15px; font-size: 0.85em; margin-right: 12px;">Submit Guess (Select 4 words)</button>
                    <button onclick="clearSelection()" id="clearBtn" style="padding: 10px 15px; font-size: 0.85em;">Clear Selection</button>
                </div>
            </div>

            <div class="suggestions-panel">
                <div id="suggestionsList">
                    <div class="suggestions-title">AI Suggestions</div>
                    <div class="loading">Load a game to see suggestions!</div>
                </div>
            </div>
        </div>
    </div>
    <div class="info-modal" id="infoModal">
        <div class="info-modal-content">
            <button class="close-button">&times;</button>
            
            <h2>Welcome to ConnectionsAI!</h2>
            <p> Hey! I am Yiming, and I made this bot over 2024/2025 to solve the popular NYT game Connections. This is a web demonstration of this project, so feel free to play around!</p>

            <h3>How to use?</h3>
            <p> To use ConnectionsAI, load a game either through number or through random. These real Connections games will then be analyzed by the AI, and its suggestions shown on the side. Click on the suggestion to select it. You can choose amongst the AI's top choices, or make your own!</p>
            <h3>How does it work??</h3>
            <p> ConnectionsAI is a bot that uses a process of semantic reasoning, logic, and trial-and-error to solve Connections. It uses a concept called Word Vectors, where the context of words is compared with other words and given values. Those values can then be compared to one another to determine how similar the contexts, and thus the words, are.</p>
            
            <p> For example, the words "monarch" and "ruler" would often be seen with similar surrounding words, such as "king," "crown," "throne," etc. Thus, the AI can determine that they must be pretty similar. Words like "grass" and "bird" may have some similar contexts, like "nature" and "environment," but would also have many different contexts. Thus, the AI can tell that they are kind of similar, but not as similar as "king" and "crown."</p>
            
            <p> Using this, the AI then ranks several groups of words, using how similar the words are to the other words in the group (density) and how dissimilar they are to outsiders (conductance). With weights applied to each of these values, calculated with a genetic algorithm, we get an AI that can play Connections pretty well!</p>
            
            <h3>What are the limitations?</h3>
            <p> Since the words are grouped on semantics, Connections categories that involve proper nouns and how a word is constructed are points of struggle for the bot. There's no way to tell that four words are homonyms just from their contexts. Due to this, it sometimes uses over 40 guesses trying to get a single category, as it uses trial and error to get past its shortcomings.</p>
            
            <h3>I want to know more!</h3>
            <p> I made a video on this bot last summer, so please check it out! Sorry about the bad mic quality, captions are available!</p>
            <p><a href="https://www.youtube.com/watch?v=f_vW9pyRhMs" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=f_vW9pyRhMs</a></p>
        </div>
    </div>


    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="ai-solver.js"></script>
    <script src="web-app.js"></script>
</body>
</html>